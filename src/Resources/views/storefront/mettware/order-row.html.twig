<tr>
    <th scope="row" rowspan="{{ order.lineItems|length }}">{{ number }}</th>
    <th scope="row" rowspan="{{ order.lineItems|length }}">{{ order.orderNumber }}</th>
    <td rowspan="{{ order.lineItems|length }}">
        {{ order.orderCustomer.firstName }} {{ order.orderCustomer.lastName }}
    </td>
    {% for id, orderItem in order.lineItems %}
        {% if loop.first == false %}
            <tr>
        {% endif %}
        <td>
            {{ orderItem.product.translated.name }}
            {% set nameExtension = '' %}
            {% for option in orderItem.product.options %}
                {% if loop.first %}
                    {% set nameExtension = nameExtension ~ ' - ' %}
                {% endif %}
                {% set nameExtension = nameExtension ~ option.translated.name %}
                {% if loop.last == false %}
                    {% set nameExtension = nameExtension ~ ', ' %}
                {% endif %}
            {% endfor %}

            {{ nameExtension }}
            {% if orderItem.payload.extra %}
                <br/>
                <i>{{ orderItem.payload.extra }}</i>
            {% endif %}
        </td>
        <td>
            {{ orderItem.product.manufacturer.translated.name }}
        </td>
        <td>
            {{ orderItem.quantity }}
        </td>
        <td>
            {{ orderItem.totalPrice|currency }}
            {% if orderItem.payload.extra %}
                <i>+ X</i>
            {% endif %}
        </td>
        {% if loop.first %}
            <td rowspan="{{ order.lineItems|length }}">
                {{ order.amountTotal|currency }}
            </td>
        {% endif %}
        {% if loop.last == false %}
            </tr>
        {% endif %}
    {% endfor %}
</tr>
